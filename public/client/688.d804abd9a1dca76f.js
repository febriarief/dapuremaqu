"use strict";(self.webpackChunkfood_commerce=self.webpackChunkfood_commerce||[]).push([[688],{688:(N,u,a)=>{a.r(u),a.d(u,{HomeModule:()=>I});var d=a(1255),h=a(553),t=a(8926),f=a(2051),x=a(5115),_=a(8862),v=a(6593),b=a(2425),g=a(6814),c=a(95),Z=a(2827),T=a(4747),y=a(7626);const D=["itemDetailModal"],k=function(){return{"border-radius":"5px","background-color":"#e9e9e9","margin-bottom":"0px",height:"150px"}},m=function(){return{"border-radius":"5px","background-color":"#e9e9e9","margin-bottom":"0px"}};function C(o,s){1&o&&(t.TgZ(0,"div",17)(1,"div",18)(2,"div",19),t._UZ(3,"ngx-skeleton-loader",20),t.qZA(),t.TgZ(4,"div",21)(5,"div",19),t._UZ(6,"ngx-skeleton-loader",20),t.qZA(),t.TgZ(7,"div",19),t._UZ(8,"ngx-skeleton-loader",20),t.qZA(),t.TgZ(9,"div",19),t._UZ(10,"ngx-skeleton-loader",20),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("theme",t.DdM(4,k)),t.xp6(3),t.Q6J("theme",t.DdM(5,m)),t.xp6(2),t.Q6J("theme",t.DdM(6,m)),t.xp6(2),t.Q6J("theme",t.DdM(7,m)))}const M=function(){return[1,2,3,4,5,6,7,8]};function w(o,s){1&o&&(t.ynx(0),t.YNc(1,C,11,8,"div",16),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,M)))}function A(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24),t._UZ(2,"img",25),t.TgZ(3,"div",26)(4,"h5",27),t._uU(5),t.qZA(),t.TgZ(6,"span",28),t._uU(7),t.ALo(8,"rupiah"),t.qZA()()(),t.TgZ(9,"div",29)(10,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.viewItemDetail(r))}),t._uU(11,"Pesan"),t.qZA()()()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("src",n.webUrl+"/storage/"+e.gambar,t.LSH),t.xp6(3),t.Oqu(e.nama_produk),t.xp6(2),t.Oqu(t.lcZ(8,3,e.harga))}}function H(o,s){if(1&o&&(t.ynx(0),t.YNc(1,A,12,5,"div",22),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.products)}}function U(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",31)(1,"h5",32),t._uU(2,"Detail Produk"),t.qZA(),t.TgZ(3,"div",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal())}),t._UZ(4,"i",34),t.qZA()(),t.TgZ(5,"div",35)(6,"div",36)(7,"div",37)(8,"div",36)(9,"div",38),t._UZ(10,"img",25),t.qZA(),t.TgZ(11,"div",39)(12,"h5",32),t._uU(13),t.qZA(),t._uU(14),t.TgZ(15,"h6",40),t._uU(16),t.ALo(17,"rupiah"),t.qZA(),t.TgZ(18,"div",41)(19,"input",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.minusItem())}),t.qZA(),t.TgZ(20,"input",43),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.itemDetail.qty=i)}),t.qZA(),t.TgZ(21,"input",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.plusItem())}),t.qZA()()()()()(),t.TgZ(22,"div",45)(23,"button",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addToCart())}),t._UZ(24,"i",47),t._uU(25," Tambahkan Keranjang "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(10),t.Q6J("src",e.webUrl+"/storage/"+e.itemDetail.gambar,t.LSH),t.xp6(3),t.Oqu(e.itemDetail.nama_produk),t.xp6(1),t.hij(" ",e.itemDetail.keterangan," "),t.xp6(2),t.Oqu(t.lcZ(17,5,e.itemDetail.harga)),t.xp6(4),t.Q6J("ngModel",e.itemDetail.qty)}}const J=function(){return{path:"assets/lottie/arrow-down.json"}};let p=(()=>{class o{constructor(e,n,i,r,l,Q){this._bsModalService=e,this._headerService=n,this._productService=i,this._router=r,this._title=l,this._toastrService=Q,l.setTitle("Beranda | Dapuremaqu"),this.products=[],this.isSubmitting=!1,this.webUrl=h.N.webUrl}ngOnInit(){this.clearItemDetail(),this.loadData()}loadData(){this.loadingData=!0,this._productService.get().subscribe({next:e=>{this.loadingData=!1,this.products=e},error:e=>{this.loadingData=!1;let n="Gagal memuat data";e.error&&e.error.message&&(n=e.error.message),this._toastrService.error(n,"Error")}})}clearItemDetail(){this.itemDetail={id_produk:null,nama_produk:null,keterangan:null,harga:null,gambar:null,qty:1}}viewItemDetail(e){this.itemDetail={...e,qty:1},setTimeout(()=>this._openform(this.itemDetailModal))}plusItem(){this.itemDetail.qty++}minusItem(){this.itemDetail.qty--}addToCart(){let e=[];const n=localStorage.getItem("carts");if(n){e=JSON.parse(n);const r=e.findIndex(l=>Number(l.id_produk)===Number(this.itemDetail.id_produk));r>=0?e[r].qty+=this.itemDetail.qty:e.push(this.itemDetail)}else e.push(this.itemDetail);const i=e.reduce((r,l)=>r+l.qty,0);this._headerService.updateCart(i),localStorage.setItem("carts",JSON.stringify(e)),this.closeModal(),this._toastrService.success("Produk berhasil ditambahkan ke keranjang")}_openform(e,n){n||(n={ignoreBackdropClick:!1}),this.bsModalRef=this._bsModalService.show(e,n)}closeModal(){this.bsModalRef?.hide(),setTimeout(()=>this.clearItemDetail(),600)}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(f.tT),t.Y36(x.r),t.Y36(_.M),t.Y36(d.F0),t.Y36(v.Dx),t.Y36(b._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&t.Gf(D,5),2&n){let r;t.iGM(r=t.CRH())&&(i.itemDetailModal=r.first)}},decls:22,vars:4,consts:[["id","home",1,"py-5","overflow-hidden","bg-primary",2,"background","url('assets/images/hero.png')","background-size","cover","background-repeat","no-repeat"],[1,"container"],[1,"row","flex-center"],[1,"col-md-12","col-lg-12","py-9","text-center"],[1,"fs-md-5","fs-lg-6","fs-xl-8","text-light"],[1,"fs-4","text-light"],[1,"d-flex","justify-content-center"],["width","40px",3,"options"],[1,"py-4","overflow-hidden"],[1,"row","h-100"],[1,"col-lg-7","mx-auto","text-center","mt-7","mb-5"],[1,"fw-bold","fs-3","fs-lg-5","lh-sm"],[1,"col-12"],[1,"row","gx-3","h-100","align-items-center"],[4,"ngIf"],["itemDetailModal",""],["class","mb-4 col-md-3",4,"ngFor","ngForOf"],[1,"mb-4","col-md-3"],[1,"card","shadow-sm","rounded-3"],[1,"bg-white"],[3,"theme"],[1,"card-body"],["class","col-md-2 mb-5",4,"ngFor","ngForOf"],[1,"col-md-2","mb-5"],[1,"card","card-span","rounded-3"],["alt","...",1,"img-fluid","rounded-3",3,"src"],[1,"card-body","ps-0"],[1,"fw-bold","text-1000","text-truncate","mb-1"],[1,"text-1000","fw-bold"],[1,"d-grid","gap-2"],["href","javascript:void(0)","role","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"modal-header","border-0"],[1,"font-family-bold"],["role","button",1,"ms-auto",3,"click"],[1,"fa-regular","fa-circle-xmark","fa-xl","text-black"],[1,"modal-body","pt-0"],[1,"row"],[1,"col-md-12"],[1,"col-md-5"],[1,"col-md-7"],[1,"mt-3","font-family-bold"],[1,"mt-4","input-group","w-auto","align-items-center"],["type","button","value","-",1,"button-minus","border","rounded-circle","icon-shape","icon-sm","mx-1",3,"click"],["type","number","step","1","max","10","value","1","name","quantity",1,"quantity-field","border-0","text-center","w-25",3,"ngModel","ngModelChange"],["type","button","value","+",1,"button-plus","border","rounded-circle","icon-shape","icon-sm",3,"click"],[1,"mt-4","d-flex","justify-content-end"],["type","button",1,"ms-3","btn","btn-sm","btn-warning","shadow-sm",3,"click"],[1,"me-2","fa-regular","fa-cart-shopping"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Santap Lezat Tanpa Ribet"),t.qZA(),t.TgZ(6,"h1",5),t._uU(7,"Pesan Katering Online Sekarang!"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"ng-lottie",7),t.qZA()()()()(),t.TgZ(10,"section",8)(11,"div",1)(12,"div",9)(13,"div",10)(14,"h5",11),t._uU(15,"Semua Produk"),t.qZA()(),t.TgZ(16,"div",12)(17,"div",13),t.YNc(18,w,2,2,"ng-container",14),t.YNc(19,H,2,1,"ng-container",14),t.qZA()()()()(),t.YNc(20,U,26,7,"ng-template",null,15,t.W1O)),2&n&&(t.xp6(9),t.Q6J("options",t.DdM(3,J)),t.xp6(9),t.Q6J("ngIf",i.loadingData),t.xp6(1),t.Q6J("ngIf",!i.loadingData))},dependencies:[g.sg,g.O5,c.Fj,c.wV,c.JJ,c.Fd,c.On,Z.e$,T.xr,y._],styles:["icon-shape[_ngcontent-%COMP%] {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        vertical-align: middle;\n    }\n\n    .icon-sm[_ngcontent-%COMP%] {\n        font-size: large;\n        width: 2rem;\n        height: 2rem;\n    }"]})}return o})();var q=a(3366);const S=[{path:"",component:p}];let I=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(S),q.m,d.Bz]})}return o})()}}]);